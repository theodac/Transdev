const mongoose = require("mongoose");
const Schema = mongoose.Schema;

const ExploitationTauxRecouvrement = new Schema({
    tauxRecouvrementAnnee:{
        type:Number
    },
    tauxRecouvrementMois:{
        type:Number
    },
    tauxRecouvrementNbNumPV:{
        type:Number
    },
    tauxRecouvrementTotalAmendePaye:{
        type:Number
    }
})

const ExploitationTauxFraudeTauxControle = new Schema({
    fraudeControleAnnee:{
        type:Number
    },
    fraudeControleMois:{
        type:Number
    },
    fraudeControleClientControle:{
        type:String
    },
    fraudeControleValidation:{
        type:String
    },
    fraudeControleTotalAmendes:{
        type:Number
    }
})

const ExploitationAccidentologieKm = new Schema({
    accidentologieKmAnnee:{
        type:Number
    },
    accidentologieKmMoisBis:{
        type:Number
    },
    accidentologieKmLigne:{
        type:String
    },
    accidentologieKmRealise:{
        type:Number
    },
    accidentologieKmCategorie2:{
        type:String
    }

})

const ExploitationAccidentologieReferenceDossier = new Schema({
    AccidentologieReferenceDossier:{
        type:String
    },
    AccidentologieAnnee:{
        type:Number
    },
    AccidentologieMoisBis:{
        type:Number
    },
    AccidentologieMode:{
        type:String
    },
    AccidentologieLigne:{
        type:String
    }


})

const ExploitationSchema = new Schema({
  nbAccidentsMateriels: {
    type: Number
  },
  nbAccidentsCorporels: {
    type: Number
  },
  causeAccident: {
    type: String
  },
  tauxControle: {
    type: Number
  },
  accidentologieReferenceDossier: {
    type:ExploitationAccidentologieReferenceDossier
  },
  tauxRecouvrement:{
    type:ExploitationTauxRecouvrement
  },
  tauxFraudeTauxControle:{
    type:ExploitationTauxFraudeTauxControle
  },
  accidentologieKm: {
    type:ExploitationAccidentologieKm
  },

  dataDate: {
    type: Date
  }
});



module.exports = mongoose.model("Exploitation", ExploitationSchema);
